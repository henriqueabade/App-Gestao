<div id="modal-users-edit" data-modal-id="users-edit" class="fixed inset-0 bg-black bg-opacity-50 z-50 overflow-y-auto flex justify-center p-4">
  <div class="bg-white rounded-lg shadow-lg p-6 w-full max-w-6xl font-[Inter]">
    <!-- Cabe√ßalho -->
    <div class="flex items-center justify-between">
      <div class="flex items-center">
        <button id="btnBack" class="flex items-center bg-[var(--color-negative)] hover:bg-[var(--color-negative-hover)] text-white px-2 py-1 rounded">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
            <path fill-rule="evenodd" d="M10 18a1 1 0 01-.707-.293l-7-7a1 1 0 010-1.414l7-7A1 1 0 0111.414 3.707L5.121 10l6.293 6.293A1 1 0 0110 18z" clip-rule="evenodd" />
          </svg>
          <span class="ml-2">Voltar</span>
        </button>
        <h2 class="text-xl font-semibold text-[var(--color-primary)] mx-4">Editar Usu√°rio ‚Äì Maria Silva</h2>
      </div>
      <div class="flex items-center">
        <button id="btnSave" class="bg-[var(--color-primary)] hover:bg-[var(--color-primary-hover)] text-white px-4 py-2 rounded-lg font-medium transition">
          <span id="btnSaveText">Salvar</span>
          <div id="btnSaveSpinner" class="spinner hidden ml-2"></div>
        </button>
        <button id="btnClose" class="ml-2 p-2 bg-[var(--color-negative)] hover:bg-[var(--color-negative-hover)] text-white rounded">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
            <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd" />
          </svg>
        </button>
      </div>
    </div>

    <!-- Abas de Navega√ß√£o -->
    <div class="flex space-x-4 border-b border-gray-200 mt-4">
      <button class="pb-2 text-sm font-medium text-[var(--color-primary)] border-b-2 border-[var(--color-primary)] tab-button" data-tab="personal">
        Dados Pessoais
      </button>
      <button class="pb-2 text-sm font-medium text-gray-600 hover:text-gray-800 tab-button" data-tab="permissions">
        Permiss√µes
      </button>
      <button class="pb-2 text-sm font-medium text-gray-600 hover:text-gray-800 tab-button" data-tab="areas">
        √Åreas
      </button>
      <button class="pb-2 text-sm font-medium text-gray-600 hover:text-gray-800 tab-button" data-tab="external">
        Acessos Externos
      </button>
    </div>

    <!-- Pain√©is de Conte√∫do -->
    <div id="tab-personal" class="mt-6 space-y-6 tab-content active">
      <div class="bg-white shadow-lg rounded-lg p-6">
        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
          <!-- Avatar -->
          <div class="user-avatar-block">
            <div class="avatar-upload">
              <div class="avatar-preview">
                <div class="text-center">MS</div>
              </div>
              <div class="avatar-edit">
                <button class="bg-[var(--color-positive)] hover:bg-[var(--color-positive-hover)] text-white rounded-full w-8 h-8 flex items-center justify-center shadow">
                  üì∑
                </button>
              </div>
            </div>
            <button class="upload-avatar-btn bg-gray-100 hover:bg-gray-200 text-gray-700 rounded transition text-sm">
              Upload / Trocar
            </button>
          </div>

          <!-- Dados principais -->
          <div class="md:col-span-2 space-y-4">
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-1">Nome completo*</label>
              <input type="text" class="w-full border border-gray-300 rounded p-2 text-sm text-gray-700 focus:ring-2 focus:ring-[var(--color-primary)] focus:border-[var(--color-primary)] focus:outline-none" value="Maria Silva">
            </div>

            <div>
              <label class="block text-sm font-medium text-gray-700 mb-1">
                E-mail*
                <span class="tooltip ml-1">
                  <span class="text-gray-400">‚ÑπÔ∏è</span>
                  <span class="tooltip-text">O e-mail n√£o pode ser alterado ap√≥s a cria√ß√£o do usu√°rio.</span>
                </span>
              </label>
              <input type="email" readonly class="w-full bg-gray-50 border border-gray-300 rounded p-2 text-sm text-gray-700 focus:ring-2 focus:ring-[var(--color-primary)] focus:border-[var(--color-primary)] focus:outline-none" value="maria.silva@empresa.com.br">
            </div>

            <div>
              <label class="block text-sm font-medium text-gray-700 mb-1">Perfil*</label>
              <select class="w-full border border-gray-300 rounded p-2 text-sm text-gray-700 focus:ring-2 focus:ring-[var(--color-primary)] focus:border-[var(--color-primary)] focus:outline-none">
                <option value="admin" selected>Admin</option>
                <option value="operacional">Operacional</option>
                <option value="cliente">Cliente</option>
              </select>
            </div>

            <div>
              <label class="block text-sm font-medium text-gray-700 mb-1">Status*</label>
              <select id="userStatus" class="w-full border border-gray-300 rounded p-2 text-sm text-gray-700 focus:ring-2 focus:ring-[var(--color-primary)] focus:border-[var(--color-primary)] focus:outline-none">
                <option value="ativo" selected>Ativo</option>
                <option value="inativo">Inativo</option>
                <option value="aguardando">Aguardando</option>
              </select>
            </div>
          </div>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mt-6">
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-1">Data de cria√ß√£o</label>
            <input type="text" readonly class="w-full bg-gray-50 border border-gray-300 rounded p-2 text-sm text-gray-700" value="15/05/2023 10:30">
          </div>

          <div>
            <label class="block text-sm font-medium text-gray-700 mb-1">√öltimo login</label>
            <input type="text" readonly class="w-full bg-gray-50 border border-gray-300 rounded p-2 text-sm text-gray-700" value="22/06/2023 14:05">
          </div>
        </div>

        <div id="confirmationCodeSection" class="mt-6 hidden">
          <div class="p-4 bg-[var(--color-primary-opacity)] border border-[var(--color-primary)] rounded-lg">
            <h3 class="text-sm font-medium text-[var(--color-primary)] mb-2">Confirma√ß√£o de Conta</h3>

            <div class="grid grid-cols-1 md:grid-cols-3 gap-4 items-end">
              <div class="md:col-span-2">
                <label class="block text-sm font-medium text-gray-700 mb-1">C√≥digo de Confirma√ß√£o*</label>
                <input type="text" class="w-full border border-gray-300 rounded p-2 text-sm text-gray-700 focus:ring-2 focus:ring-[var(--color-primary)] focus:border-[var(--color-primary)] focus:outline-none" placeholder="Digite o c√≥digo de 6 d√≠gitos">
              </div>

              <div>
                <button id="btnSendCode" class="w-full bg-[var(--color-positive)] hover:bg-[var(--color-positive-hover)] text-white px-4 py-2 rounded-lg font-medium transition">
                  Enviar C√≥digo
                </button>
              </div>
            </div>

            <p class="text-xs text-[var(--color-primary)] mt-2">
              Um c√≥digo de confirma√ß√£o ser√° enviado para o e-mail do usu√°rio.
            </p>
          </div>
        </div>
      </div>
    </div>

    <div id="tab-permissions" class="mt-6 space-y-6 tab-content">
      <div class="bg-white shadow-lg rounded-lg p-6">
        <h3 class="text-lg font-medium text-gray-800 mb-4">Permiss√µes do Usu√°rio</h3>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
          <div class="border border-gray-200 rounded-lg p-4">
            <h4 class="text-sm font-semibold text-gray-700 mb-3 pb-2 border-b border-gray-200">Or√ßamentos</h4>
            <div class="grid grid-cols-1 gap-3">
              <div class="flex items-center">
                <input type="checkbox" id="perm1" class="rounded accent-[var(--color-primary)] focus:ring-[var(--color-primary)] mr-2" checked>
                <label for="perm1" class="text-sm text-gray-700">Criar Or√ßamento</label>
              </div>
              <div class="flex items-center">
                <input type="checkbox" id="perm2" class="rounded accent-[var(--color-primary)] focus:ring-[var(--color-primary)] mr-2" checked>
                <label for="perm2" class="text-sm text-gray-700">Editar Or√ßamento</label>
              </div>
              <div class="flex items-center">
                <input type="checkbox" id="perm3" class="rounded accent-[var(--color-primary)] focus:ring-[var(--color-primary)] mr-2">
                <label for="perm3" class="text-sm text-gray-700">Excluir Or√ßamento</label>
              </div>
              <div class="flex items-center">
                <input type="checkbox" id="perm4" class="rounded accent-[var(--color-primary)] focus:ring-[var(--color-primary)] mr-2" checked>
                <label for="perm4" class="text-sm text-gray-700">Clonar Or√ßamento</label>
              </div>
            </div>
          </div>
          <div class="border border-gray-200 rounded-lg p-4">
            <h4 class="text-sm font-semibold text-gray-700 mb-3 pb-2 border-b border-gray-200">Produtos</h4>
            <div class="grid grid-cols-1 gap-3">
              <div class="flex items-center">
                <input type="checkbox" id="perm5" class="rounded accent-[var(--color-primary)] focus:ring-[var(--color-primary)] mr-2">
                <label for="perm5" class="text-sm text-gray-700">Criar Produto</label>
              </div>
              <div class="flex items-center">
                <input type="checkbox" id="perm6" class="rounded accent-[var(--color-primary)] focus:ring-[var(--color-primary)] mr-2" checked>
                <label for="perm6" class="text-sm text-gray-700">Visualizar Produto</label>
              </div>
              <div class="flex items-center">
                <input type="checkbox" id="perm7" class="rounded accent-[var(--color-primary)] focus:ring-[var(--color-primary)] mr-2">
                <label for="perm7" class="text-sm text-gray-700">Editar Produto</label>
              </div>
              <div class="flex items-center">
                <input type="checkbox" id="perm8" class="rounded accent-[var(--color-primary)] focus:ring-[var(--color-primary)] mr-2">
                <label for="perm8" class="text-sm text-gray-700">Excluir Produto</label>
              </div>
            </div>
          </div>
          <div class="border border-gray-200 rounded-lg p-4">
            <h4 class="text-sm font-semibold text-gray-700 mb-3 pb-2 border-b border-gray-200">Pedidos</h4>
            <div class="grid grid-cols-1 gap-3">
              <div class="flex items-center">
                <input type="checkbox" id="perm9" class="rounded accent-[var(--color-primary)] focus:ring-[var(--color-primary)] mr-2" checked>
                <label for="perm9" class="text-sm text-gray-700">Criar Pedido</label>
              </div>
              <div class="flex items-center">
                <input type="checkbox" id="perm10" class="rounded accent-[var(--color-primary)] focus:ring-[var(--color-primary)] mr-2" checked>
                <label for="perm10" class="text-sm text-gray-700">Atualizar Pedido</label>
              </div>
              <div class="flex items-center">
                <input type="checkbox" id="perm11" class="rounded accent-[var(--color-primary)] focus:ring-[var(--color-primary)] mr-2">
                <label for="perm11" class="text-sm text-gray-700">Cancelar Pedido</label>
              </div>
              <div class="flex items-center">
                <input type="checkbox" id="perm12" class="rounded accent-[var(--color-primary)] focus:ring-[var(--color-primary)] mr-2" checked>
                <label for="perm12" class="text-sm text-gray-700">Visualizar Pedido</label>
              </div>
            </div>
          </div>
          <div class="border border-gray-200 rounded-lg p-4">
            <h4 class="text-sm font-semibold text-gray-700 mb-3 pb-2 border-b border-gray-200">Usu√°rios</h4>
            <div class="grid grid-cols-1 gap-3">
              <div class="flex items-center">
                <input type="checkbox" id="perm13" class="rounded accent-[var(--color-primary)] focus:ring-[var(--color-primary)] mr-2" checked>
                <label for="perm13" class="text-sm text-gray-700">Criar Usu√°rio</label>
              </div>
              <div class="flex items-center">
                <input type="checkbox" id="perm14" class="rounded accent-[var(--color-primary)] focus:ring-[var(--color-primary)] mr-2" checked>
                <label for="perm14" class="text-sm text-gray-700">Editar Usu√°rio</label>
              </div>
              <div class="flex items-center">
                <input type="checkbox" id="perm15" class="rounded accent-[var(--color-primary)] focus:ring-[var(--color-primary)] mr-2">
                <label for="perm15" class="text-sm text-gray-700">Excluir Usu√°rio</label>
              </div>
              <div class="flex items-center">
                <input type="checkbox" id="perm16" class="rounded accent-[var(--color-primary)] focus:ring-[var(--color-primary)] mr-2" checked>
                <label for="perm16" class="text-sm text-gray-700">Gerenciar Permiss√µes</label>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div id="tab-areas" class="mt-6 space-y-6 tab-content">
      <div class="bg-white shadow-lg rounded-lg p-6">
        <h3 class="text-lg font-medium text-gray-800 mb-4">√Åreas de Acesso</h3>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
          <div class="flex items-center justify-between p-3 border border-gray-200 rounded-lg">
            <div class="flex items-center">
              <input type="checkbox" id="area1" class="rounded accent-[var(--color-primary)] focus:ring-[var(--color-primary)] mr-3" checked>
              <div>
                <label for="area1" class="text-sm font-medium text-gray-700">Estoque</label>
                <p class="text-xs text-gray-500 mt-1">Acesso ao m√≥dulo de controle de estoque e invent√°rio</p>
              </div>
            </div>
          </div>
          <div class="flex items-center justify-between p-3 border border-gray-200 rounded-lg">
            <div class="flex items-center">
              <input type="checkbox" id="area2" class="rounded accent-[var(--color-primary)] focus:ring-[var(--color-primary)] mr-3" checked>
              <div>
                <label for="area2" class="text-sm font-medium text-gray-700">Produtos</label>
                <p class="text-xs text-gray-500 mt-1">Acesso ao cat√°logo e gerenciamento de produtos</p>
              </div>
            </div>
          </div>
          <div class="flex items-center justify-between p-3 border border-gray-200 rounded-lg">
            <div class="flex items-center">
              <input type="checkbox" id="area3" class="rounded accent-[var(--color-primary)] focus:ring-[var(--color-primary)] mr-3" checked>
              <div>
                <label for="area3" class="text-sm font-medium text-gray-700">Or√ßamentos</label>
                <p class="text-xs text-gray-500 mt-1">Acesso ao m√≥dulo de cria√ß√£o e gest√£o de or√ßamentos</p>
              </div>
            </div>
          </div>
          <div class="flex items-center justify-between p-3 border border-gray-200 rounded-lg">
            <div class="flex items-center">
              <input type="checkbox" id="area4" class="rounded accent-[var(--color-primary)] focus:ring-[var(--color-primary)] mr-3">
              <div>
                <label for="area4" class="text-sm font-medium text-gray-700">Pedidos</label>
                <p class="text-xs text-gray-500 mt-1">Acesso ao m√≥dulo de pedidos e acompanhamento</p>
              </div>
            </div>
          </div>
          <div class="flex items-center justify-between p-3 border border-gray-200 rounded-lg">
            <div class="flex items-center">
              <input type="checkbox" id="area5" class="rounded accent-[var(--color-primary)] focus:ring-[var(--color-primary)] mr-3" checked>
              <div>
                <label for="area5" class="text-sm font-medium text-gray-700">Clientes</label>
                <p class="text-xs text-gray-500 mt-1">Acesso ao cadastro e gest√£o de clientes</p>
              </div>
            </div>
          </div>
          <div class="flex items-center justify-between p-3 border border-gray-200 rounded-lg">
            <div class="flex items-center">
              <input type="checkbox" id="area6" class="rounded accent-[var(--color-primary)] focus:ring-[var(--color-primary)] mr-3">
              <div>
                <label for="area6" class="text-sm font-medium text-gray-700">Transportadoras</label>
                <p class="text-xs text-gray-500 mt-1">Acesso ao cadastro e gest√£o de transportadoras</p>
              </div>
            </div>
          </div>
          <div class="flex items-center justify-between p-3 border border-gray-200 rounded-lg">
            <div class="flex items-center">
              <input type="checkbox" id="area7" class="rounded accent-[var(--color-primary)] focus:ring-[var(--color-primary)] mr-3" checked>
              <div>
                <label for="area7" class="text-sm font-medium text-gray-700">Painel</label>
                <p class="text-xs text-gray-500 mt-1">Acesso aos pain√©is de indicadores e relat√≥rios</p>
              </div>
            </div>
          </div>
          <div class="flex items-center justify-between p-3 border border-gray-200 rounded-lg">
            <div class="flex items-center">
              <input type="checkbox" id="area8" class="rounded accent-[var(--color-primary)] focus:ring-[var(--color-primary)] mr-3" checked>
              <div>
                <label for="area8" class="text-sm font-medium text-gray-700">Permiss√µes</label>
                <p class="text-xs text-gray-500 mt-1">Acesso ao gerenciamento de usu√°rios e permiss√µes</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div id="tab-external" class="mt-6 space-y-6 tab-content">
      <div class="bg-white shadow-lg rounded-lg p-6">
        <h3 class="text-lg font-medium text-gray-800 mb-4">Integra√ß√µes e Acessos Externos</h3>
        <div class="space-y-6">
          <div class="flex items-center justify-between p-4 border border-gray-200 rounded-lg">
            <div>
              <h4 class="text-sm font-medium text-gray-700">Sincroniza√ß√£o com Google Agenda</h4>
              <p class="text-xs text-gray-500 mt-1">Permite sincroniza√ß√£o de eventos com a agenda do Google</p>
            </div>
            <label class="toggle-switch">
              <input type="checkbox" checked>
              <span class="toggle-slider"></span>
            </label>
          </div>
          <div class="flex items-center justify-between p-4 border border-gray-200 rounded-lg">
            <div>
              <h4 class="text-sm font-medium text-gray-700">WhatsApp API</h4>
              <p class="text-xs text-gray-500 mt-1">Permite envio de notifica√ß√µes via WhatsApp</p>
            </div>
            <label class="toggle-switch">
              <input type="checkbox">
              <span class="toggle-slider"></span>
            </label>
          </div>
          <div class="flex items-center justify-between p-4 border border-gray-200 rounded-lg">
            <div>
              <h4 class="text-sm font-medium text-gray-700">Relat√≥rios via SMS</h4>
              <p class="text-xs text-gray-500 mt-1">Recebe relat√≥rios di√°rios via SMS</p>
            </div>
            <label class="toggle-switch">
              <input type="checkbox" checked>
              <span class="toggle-slider"></span>
            </label>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div id="toast" class="toast">
    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
      <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.707a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
    </svg>
    <span id="toastMessage">Usu√°rio atualizado com sucesso!</span>
  </div>
  </div>

  <style>
.tab-content { opacity:0; transform: translateY(10px); transition:all .2s ease-in-out; display:none; }
.tab-content.active { opacity:1; transform:translateY(0); display:block; }
.tooltip { position:relative; display:inline-block; cursor:help; }
  .tooltip .tooltip-text { visibility:hidden; width:200px; background-color:var(--tooltip-bg); color:var(--tooltip-text); text-align:center; border-radius:6px; padding:8px; position:absolute; z-index:1; bottom:125%; left:50%; margin-left:-100px; opacity:0; transition:opacity .3s; font-size:.75rem; line-height:1.25rem; }
.tooltip:hover .tooltip-text { visibility:visible; opacity:1; }
  .tooltip .tooltip-text::after { content:""; position:absolute; top:100%; left:50%; margin-left:-5px; border-width:5px; border-style:solid; border-color:var(--tooltip-bg) transparent transparent transparent; }
.toggle-switch { position:relative; display:inline-block; width:44px; height:24px; }
.toggle-switch input { opacity:0; width:0; height:0; }
  .toggle-slider { position:absolute; cursor:pointer; top:0; left:0; right:0; bottom:0; background-color:var(--toggle-bg); transition:.4s; border-radius:34px; }
  .toggle-slider:before { position:absolute; content:""; height:18px; width:18px; left:3px; bottom:3px; background-color:white; transition:.4s; border-radius:50%; }
  input:checked + .toggle-slider { background-color:var(--color-primary); }
  input:checked + .toggle-slider:hover { background-color:var(--color-primary-hover); }
  input:focus + .toggle-slider { box-shadow:0 0 1px var(--color-primary); }
input:checked + .toggle-slider:before { transform:translateX(20px); }
  .toast { position:fixed; bottom:20px; right:20px; padding:12px 20px; background-color:var(--toast-bg); color:white; border-radius:4px; box-shadow:0 4px 6px rgba(0,0,0,0.1); display:flex; align-items:center; transform:translateY(100px); opacity:0; transition:all .3s ease; z-index:60; }
.toast.show { transform:translateY(0); opacity:1; }
.toast i { margin-right:8px; }
.spinner { animation:spin 1s linear infinite; }
@keyframes spin { from { transform: rotate(0deg);} to { transform: rotate(360deg);} }
.user-avatar-block { display:flex; flex-direction:column; align-items:center; gap:8px; padding-top:24px; }
.user-avatar-block .avatar-upload { position:relative; width:110px; height:110px; margin:0 auto; }
.user-avatar-block .avatar-edit { position:absolute; right:4px; bottom:4px; z-index:1; }
  .user-avatar-block .avatar-preview { width:100%; height:100%; position:relative; border-radius:50%; overflow:hidden; background-color:var(--avatar-preview-bg); display:flex; align-items:center; justify-content:center; font-size:2rem; color:var(--avatar-preview-text); }
.user-avatar-block .avatar-preview img { width:100%; height:100%; object-fit:cover; }
.user-avatar-block .upload-avatar-btn { width:110px; height:32px; }
</style>
