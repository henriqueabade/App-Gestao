<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Clientes</title>
  
  <!-- Styles from Código 1 -->
  <style>
    .card {
      background-color: white;
      border-radius: 0.5rem;
      box-shadow: 0 10px 15px -3px rgba(0,0,0,0.1), 0 4px 6px -2px rgba(0,0,0,0.05);
    }
    .btn {
      transition: all 0.2s;
      border-radius: 0.375rem;
      font-weight: 500;
      display: inline-flex;
      align-items: center;
      justify-content: center;
    }
    .btn-primary {
      background-color: var(--color-primary);
      color: white;
      padding: 0.5rem 1rem;
    }
    .btn-primary:hover { background-color: var(--color-primary-hover); }
    .btn-secondary {
      background-color: var(--color-gray-100);
      color: var(--color-gray-600);
      padding: 0.375rem 0.75rem;
    }
    .btn-secondary:hover { background-color: var(--color-gray-200); }
    .badge {
      border-radius: 9999px;
      padding: 0.25rem 0.75rem;
      font-size: 0.75rem;
      font-weight: 500;
      display: inline-flex;
      align-items: center;
    }
    .badge-active   { background-color: var(--color-green-100); color: var(--color-green-700); }
    .badge-pending  { background-color: var(--color-amber-100); color: var(--color-amber-700); }
    .badge-inactive { background-color: var(--color-red-100); color: var(--color-negative-hover); }
    .badge-count    { background-color: var(--color-gray-100); color: var(--color-gray-600); }
    .badge-decoration  { background-color: var(--color-indigo-100); color: var(--color-indigo-800); }
    .badge-architecture { background-color: var(--color-indigo-200); color: var(--color-indigo-700); }
    .badge-construction { background-color: var(--color-amber-100); color: var(--color-amber-700); }
    .badge-retail       { background-color: var(--color-green-100); color: var(--color-green-700); }
    .badge-other        { background-color: var(--color-gray-200); color: var(--color-gray-600); }
    .table-container { overflow-x: auto; }
    table {
      width: 100%;
      border-collapse: separate;
      border-spacing: 0;
    }
    th {
      position: sticky;
      top: 0;
      background-color: var(--color-gray-50);
      font-weight: 500;
      color: var(--color-gray-600);
      text-align: left;
      padding: 0.75rem 1rem;
      border-bottom: 1px solid var(--color-gray-200);
      text-transform: uppercase;
      font-size: 0.75rem;
    }
    td {
      padding: 0.75rem 1rem;
      border-bottom: 1px solid var(--color-gray-200);
      color: var(--color-gray-700);
      font-size: 0.875rem;
    }
    tr:hover td { background-color: var(--color-gray-50); }
    .pagination {
      display: flex;
      justify-content: center;
      align-items: center;
      margin-top: 1.5rem;
    }
    .pagination-item {
      width: 2rem;
      height: 2rem;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 0.375rem;
      margin: 0 0.25rem;
      cursor: pointer;
      transition: all 0.2s;
    }
    .pagination-item:hover { background-color: var(--color-gray-200); }
    .pagination-item.active {
      background-color: var(--color-primary);
      color: white;
    }
    .toast {
      position: fixed;
      bottom: 1.5rem;
      right: 1.5rem;
      padding: 1rem;
      background-color: white;
      border-radius: 0.5rem;
      box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1), 0 2px 4px -1px rgba(0,0,0,0.06);
      display: flex;
      align-items: center;
      transform: translateY(150%);
      transition: transform 0.3s ease-out;
      z-index: 50;
    }
    .toast.show { transform: translateY(0); }
    .toast-icon {
      margin-right: 0.75rem;
      width: 1.5rem;
      height: 1.5rem;
      flex-shrink: 0;
    }
    .toast-content { flex: 1; }
    .toast-title {
      font-weight: 600;
      font-size: 0.875rem;
      color: var(--color-gray-800);
    }
    .toast-message { font-size: 0.75rem; color: var(--color-gray-500); }
    .toast-close {
      margin-left: 0.75rem;
      color: var(--color-gray-400);
      cursor: pointer;
    }
    .toast-close:hover { color: var(--color-gray-500); }
    .form-input {
      width: 100%;
      border: 1px solid var(--color-gray-300);
      border-radius: 0.375rem;
      padding: 0.5rem 0.75rem;
      font-size: 0.875rem;
      color: var(--color-gray-700);
      transition: all 0.2s;
    }
    .form-input:focus {
      outline: none;
      border-color: var(--color-primary);
      box-shadow: 0 0 0 3px rgba(139,92,246,0.3);
    }
    .search-input { position: relative; }
    .search-input input { padding-left: 2.5rem; }
    .search-input svg {
      position: absolute;
      left: 0.75rem;
      top: 50%;
      transform: translateY(-50%);
      color: var(--color-gray-500);
    }
    .checkbox-container {
      display: flex;
      align-items: center;
    }
    .checkbox-container input[type="checkbox"] {
      width: 1rem;
      height: 1rem;
      margin-right: 0.5rem;
      accent-color: var(--color-primary);
    }
    .checkbox-container label {
      font-size: 0.875rem;
      color: var(--color-gray-600);
    }
    @media (max-width: 1024px) {
      .client-card { display: block; margin-bottom:1rem; padding:1rem; background:white; border-radius:0.5rem; box-shadow:0 1px 3px rgba(0,0,0,0.1); }
      .client-card-header { display:flex; justify-content:space-between; align-items:center; margin-bottom:0.5rem; }
      .client-card-body { display:grid; grid-template-columns:repeat(2,1fr); gap:0.5rem; }
      .client-card-label { font-size:0.75rem; font-weight:500; color:var(--color-gray-500); margin-bottom:0.25rem; }
      .client-card-value { font-size:0.875rem; color:var(--color-gray-700); }
      .client-card-footer { display:flex; justify-content:flex-end; margin-top:0.75rem; gap:0.5rem; }
      .table-container { display:none; }
      .mobile-cards { display:block; }
      .grid-cols-12 { grid-template-columns:1fr; }
      .col-span-3, .col-span-9 { grid-column:span 1 / span 1; }
    }
    @media (min-width: 1025px) {
      .mobile-cards { display:none; }
    }
  </style>

  <!-- Styles from Código 2 (modal) -->
  <style>
    .overlay {
      position: fixed;
      top:0; left:0; right:0; bottom:0;
      background-color: rgba(0,0,0,0.5);
      display:flex; align-items:center; justify-content:center;
      z-index:50;
    }
    .modal {
      background:white;
      border-radius:0.5rem;
      box-shadow:0 25px 50px -12px rgba(0,0,0,0.25);
      width:75%; max-width:48rem; max-height:90vh;
      display:flex; flex-direction:column; overflow:hidden;
    }
    .modal-header {
      padding:1.5rem;
      border-bottom:1px solid var(--color-gray-200);
      display:flex; align-items:center; justify-content:space-between;
      background:white;
    }
    .modal-body {
      padding:1.5rem;
      overflow-y:auto;
      flex:1;
    }
    .form-group { margin-bottom:1rem; }
    .form-label {
      display:block;
      font-size:0.875rem;
      font-weight:500;
      color:var(--color-gray-600);
      margin-bottom:0.25rem;
    }
    .form-input.error { border-color:var(--color-red-500); }
    .form-error { color:var(--color-red-500); font-size:0.75rem; margin-top:0.25rem; }
    .form-select {
      width:100%;
      border:1px solid var(--color-gray-300);
      border-radius:0.375rem;
      padding:0.5rem 0.75rem;
      font-size:0.875rem;
      color:var(--color-gray-700);
      transition:all 0.2s;
      background:white;
      appearance:none;
      background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e");
      background-position:right 0.5rem center;
      background-repeat:no-repeat;
      background-size:1.5em 1.5em;
      padding-right:2.5rem;
    }
    .tab-nav {
      display:flex; border-bottom:1px solid var(--color-gray-200);
      margin-top:1rem; overflow-x:auto; scrollbar-width:none;
      position:sticky; top:0; background:white; z-index:10;
    }
    .tab-nav::-webkit-scrollbar { display:none; }
    .tab-item {
      padding:0.75rem 1rem;
      font-weight:500;
      color:var(--color-gray-500);
      cursor:pointer;
      white-space:nowrap;
      border-bottom:2px solid transparent;
      transition:all 0.2s;
    }
    .tab-item:hover { color:var(--color-gray-600); }
    .tab-item.active {
      color:var(--color-primary);
      border-bottom-color:var(--color-primary);
    }
    .tab-content {
      display:none;
      animation:fadeIn 0.3s ease-in-out;
    }
    .tab-content.active { display:block; }
    @keyframes fadeIn {
      from { opacity:0; transform:translateX(10px); }
      to   { opacity:1; transform:translateX(0); }
    }
    .avatar-upload {
      position:relative;
      width:6rem; height:6rem;
      border-radius:9999px;
      background-color:var(--color-gray-200);
      display:flex; align-items:center; justify-content:center;
      color:var(--color-gray-600); font-weight:600; font-size:1.5rem;
      overflow:hidden;
    }
    .avatar-upload-btn {
      position:absolute; bottom:0; left:0; right:0;
      background-color:rgba(0,0,0,0.5);
      color:white; font-size:0.75rem; padding:0.25rem;
      text-align:center; cursor:pointer;
      transition:all 0.2s;
    }
    .avatar-upload-btn:hover { background-color:rgba(0,0,0,0.7); }
    .attachment {
      display:flex; align-items:center; padding:0.5rem;
      border:1px solid var(--color-gray-200); border-radius:0.375rem;
      margin-bottom:0.5rem;
    }
    .attachment-icon { margin-right:0.5rem; color:var(--color-gray-500); }
    .attachment-name {
      flex:1; font-size:0.875rem; color:var(--color-gray-700);
    }
    .attachment-remove {
      color:var(--color-gray-400); cursor:pointer;
    }
    .attachment-remove:hover { color:var(--color-gray-500); }
    .spinner {
      border:2px solid rgba(255,255,255,0.3);
      border-radius:50%;
      border-top:2px solid white;
      width:1rem; height:1rem;
      animation:spin 1s linear infinite;
      margin-right:0.5rem;
      display:none;
    }
    @keyframes spin {
      0% { transform:rotate(0deg); }
      100% { transform:rotate(360deg); }
    }
    .mobile-tab-select {
      display:none;
      width:100%;
      margin:1rem 0;
    }
    @media (max-width:768px) {
      .modal { width:95%; max-width:none; height:90vh; }
      .tab-nav { display:none; }
      .mobile-tab-select { display:block; }
      .grid-cols-2 { grid-template-columns:1fr; }
    }
  </style>

</head>
<body class="font-[Inter] p-6 space-y-6">

  <!-- Cabeçalho e Ações Rápidas -->
  <header class="flex items-center justify-between">
    <h1 class="text-xl font-semibold text-gray-800">CLIENTES</h1>
    <div class="flex items-center space-x-4 w-full md:w-auto justify-between md:justify-end">
      <div class="search-input w-full md:w-64">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
          <path fill-rule="evenodd" d="M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z" clip-rule="evenodd"/>
        </svg>
        <input type="text" class="form-input" placeholder="Razão ou Fantasia">
      </div>
      <button class="btn btn-primary" id="newClientBtn">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor">
          <path fill-rule="evenodd" d="M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z" clip-rule="evenodd"/>
        </svg>
        Novo Cliente
      </button>
    </div>
  </header>

  <!-- Filtros & Estatísticas / Ações Rápidas -->
  <div class="grid grid-cols-12 gap-6 mb-6">
    <div class="card p-4 col-span-12 md:col-span-3">
      <h2 class="text-sm font-medium text-gray-700 mb-3">Filtros & Estatísticas</h2>
      <div class="search-input mb-4">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
          <path fill-rule="evenodd" d="M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z" clip-rule="evenodd"/>
        </svg>
        <input type="text" class="form-input" placeholder="Razão ou Fantasia">
      </div>
      <div class="mb-4">
        <p class="text-sm font-medium text-gray-700 mb-2">Segmento</p>
        <div class="space-y-2">
          <div class="checkbox-container"><input type="checkbox" id="decoration" checked><label for="decoration">Decoração</label></div>
          <div class="checkbox-container"><input type="checkbox" id="architecture" checked><label for="architecture">Arquitetura</label></div>
          <div class="checkbox-container"><input type="checkbox" id="construction" checked><label for="construction">Construção</label></div>
          <div class="checkbox-container"><input type="checkbox" id="retail" checked><label for="retail">Varejo</label></div>
          <div class="checkbox-container"><input type="checkbox" id="other" checked><label for="other">Outros</label></div>
        </div>
      </div>
      <div>
        <p class="text-sm font-medium text-gray-700 mb-2">Totais</p>
        <div class="flex flex-wrap gap-2">
          <span class="badge badge-count">Total: 35</span>
          <span class="badge badge-count">Ativos: 28</span>
          <span class="badge badge-count">Inativos: 7</span>
        </div>
      </div>
    </div>
    <div class="card p-4 col-span-12 md:col-span-9">
      <h2 class="text-sm font-medium text-gray-700 mb-3">Ações Rápidas</h2>
      <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
        <div class="space-y-2">
          <button class="btn btn-secondary w-full justify-start" id="exportCsvBtn">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor">
              <path fill-rule="evenodd" d="M6 2a2 2 0 00-2 2v12a2 2 0 002 2h8a2 2 0 002-2V7.414A2 2 0 0015.414 6L12 2.586A2 2 0 0010.586 2H6zm5 6a1 1 0 10-2 0v3.586l-1.293-1.293a1 1 0 10-1.414 1.414l3 3a1 1 0 001.414 0l3-3a1 1 0 00-1.414-1.414L11 11.586V8z" clip-rule="evenodd"/>
            </svg>
            Exportar CSV
          </button>
          <button class="btn btn-secondary w-full justify-start" id="importCsvBtn">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor">
              <path fill-rule="evenodd" d="M6 2a2 2 0 00-2 2v12a2 2 0 002 2h8a2 2 0 002-2V7.414A2 2 0 0015.414 6L12 2.586A2 2 0 0010.586 2H6zm5 6a1 1 0 10-2 0v3.586l-1.293-1.293a1 1 0 10-1.414 1.414l3 3a1 1 0 001.414 0l3-3a1 1 0 00-1.414-1.414L11 11.586V8z" clip-rule="evenodd"/>
            </svg>
            Importar CSV
          </button>
        </div>
        <div class="space-y-2">
          <button class="btn btn-primary w-full justify-start" id="generateReportBtn">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor">
              <path fill-rule="evenodd" d="M6 2a2 2 0 00-2 2v12a2 2 0 002 2h8a2 2 0 002-2V7.414A2 2 0 0015.414 6L12 2.586A2 2 0 0010.586 2H6zm2 10a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1zm0-4a1 1 0 011-1h4a1 1 0 110 2H9a1 1 0 01-1-1z" clip-rule="evenodd"/>
            </svg>
            Gerar Relatório
          </button>
          <button class="btn btn-primary w-full justify-start" id="bulkEmailBtn">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor">
              <path d="M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"/>
              <path d="M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"/>
            </svg>
            Enviar E-mail em Massa
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- Tabela de Clientes -->
  <div class="card overflow-hidden">
    <div class="table-container max-h-[70vh]">
      <table id="tabelaClientes">
        <thead>
          <tr>
            <th>Nome</th><th>CNPJ</th><th>Estado</th><th>Status</th><th>Dono</th><th width="60">Ações</th>
          </tr>
        </thead>
        <tbody id="clientes-body"></tbody>
      </table>
    </div>
    <div class="mobile-cards p-4"></div>
    <div class="p-4 border-t border-gray-200">
      <div class="pagination">
        <div class="pagination-item">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
            <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd"/>
          </svg>
        </div>
        <div class="pagination-item active">1</div>
        <div class="pagination-item">2</div>
        <div class="pagination-item">3</div>
        <div class="pagination-item">...</div>
        <div class="pagination-item">5</div>
        <div class="pagination-item">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
            <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"/>
          </svg>
        </div>
      </div>
    </div>
  </div>

  <!-- Toasts Gerais do Cadastro/Listagem -->
  <div class="toast" id="exportCsvToast">
    <div class="toast-icon bg-green-100 text-green-500 rounded-full p-2">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
        <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/>
      </svg>
    </div>
    <div class="toast-content">
      <div class="toast-title">CSV Exportado</div>
      <div class="toast-message">O arquivo CSV foi exportado com sucesso.</div>
    </div>
    <div class="toast-close">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 20 20" fill="currentColor">
        <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"/>
      </svg>
    </div>
  </div>
  <div class="toast" id="newClientToast">
    <div class="toast-icon bg-green-100 text-green-500 rounded-full p-2">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
        <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/>
      </svg>
    </div>
    <div class="toast-content">
      <div class="toast-title">Cliente Criado</div>
      <div class="toast-message">O cliente foi criado com sucesso.</div>
    </div>
    <div class="toast-close">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 20 20" fill="currentColor">
        <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"/>
      </svg>
    </div>
  </div>
  <div class="toast" id="editClientToast">
    <div class="toast-icon bg-blue-100 text-blue-500 rounded-full p-2">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
        <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/>
      </svg>
    </div>
    <div class="toast-content">
      <div class="toast-title">Detalhes do Cliente</div>
      <div class="toast-message">Abrindo detalhes do cliente para edição.</div>
    </div>
    <div class="toast-close">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 20 20" fill="currentColor">
        <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"/>
      </svg>
    </div>
  </div>

  <!-- Modal de Detalhes do Cliente (Código 2) -->
  <div class="client-overlay" id="clientModalOverlay" style="display:none;">
    <div class="client-modal">
      <div class="modal-header">
        <div class="flex items-center space-x-4">
          <button class="btn btn-negative" id="backBtn">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-1" viewBox="0 0 20 20" fill="currentColor">
              <path fill-rule="evenodd" d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z" clip-rule="evenodd"/>
            </svg>
            Voltar
          </button>
          <h2 class="text-xl font-semibold text-gray-800" id="taskTitle">Detalhes – Decorações Modernas Ltda.</h2>
        </div>
        <div class="flex items-center space-x-2">
          <button class="btn btn-primary" id="saveBtn">
            <div class="spinner" id="saveSpinner"></div>
            Salvar
          </button>
          <button class="btn btn-negative" id="closeBtn">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
              <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"/>
            </svg>
          </button>
        </div>
      </div>
      <div class="modal-body">
        <div class="tab-nav">
          <div class="tab-item active" data-tab="company">Dados Empresa</div>
          <div class="tab-item" data-tab="contacts">Contatos</div>
          <div class="tab-item" data-tab="address">Endereços</div>
          <div class="tab-item" data-tab="contracts">Contratos</div>
          <div class="tab-item" data-tab="notes">Notas</div>
        </div>
        <select class="form-select mobile-tab-select" id="mobileTabSelect">
          <option value="company">Dados Empresa</option>
          <option value="contacts">Contatos</option>
          <option value="address">Endereços</option>
          <option value="contracts">Contratos</option>
          <option value="notes">Notas</option>
        </select>
        <!-- Conteúdos das abas (company, contacts, address, contracts, notes) replicados do Código 2 -->
        <!-- ... (copiar exatamente as divs .tab-content de cada seção) -->
        
        <div class="tab-content active" id="company">
          <div class="flex flex-col md:flex-row md:space-x-6 mb-6">
            <div class="mb-4 md:mb-0">
              <div class="avatar-upload">
                <div class="text-2xl">DM</div>
                <div class="avatar-upload-btn">Trocar</div>
              </div>
            </div>
            <div class="flex-1">
              <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div class="form-group">
                  <label class="form-label">Razão Social *</label>
                  <input type="text" id="inputRazaoSocial" class="form-input" required>
                </div>
                <div class="form-group">
                  <label class="form-label">Nome Fantasia *</label>
                  <input type="text" id="inputNomeFantasia" class="form-input" required>
                </div>
                <div class="form-group">
                  <label class="form-label">CNPJ *</label>
                  <input type="text" id="inputCnpj" class="form-input" required>
                </div>
                <div class="form-group">
                  <label class="form-label">Segmento *</label>
                  <input type="text" id="inputSegmento" class="form-input" required>
                </div>
                <div class="form-group">
                  <label class="form-label">Inscrição Estadual</label>
                  <input type="text" id="inputInscricao" class="form-input">
                </div>
                <div class="form-group">
                  <label class="form-label">Site</label>
                  <input type="url" id="inputSite" class="form-input">
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="tab-content" id="contacts">
          <div class="mt-6">
            <div class="table-container">
              <table id="contactsTable">
                <thead>
                  <tr>
                    <th>Nome</th>
                    <th>Cargo</th>
                    <th>E-mail</th>
                    <th>Tel. Celular</th>
                    <th>Tel. Fixo</th>
                    <th width="60">Ações</th>
                  </tr>
                </thead>
                <tbody id="contactsBody"></tbody>
              </table>
            </div>
          </div>
        </div>
        <div class="tab-content" id="address">
          <div id="registroSection" class="mt-6">
            <h3 class="text-sm font-medium text-gray-700 mb-2">Endereço de Registro</h3>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
              <div class="form-group md:col-span-2">
                <label class="form-label">Rua *</label>
                <input type="text" id="registroRua" class="form-input" required>
              </div>
              <div class="form-group">
                <label class="form-label">Número *</label>
                <input type="text" id="registroNumero" class="form-input" required>
              </div>
              <div class="form-group">
                <label class="form-label">Complemento</label>
                <input type="text" id="registroComplemento" class="form-input">
              </div>
              <div class="form-group">
                <label class="form-label">Bairro *</label>
                <input type="text" id="registroBairro" class="form-input" required>
              </div>
              <div class="form-group">
                <label class="form-label">Cidade *</label>
                <input type="text" id="registroCidade" class="form-input" required>
              </div>
              <div class="form-group">
                <label class="form-label">Estado *</label>
                <input type="text" id="registroEstado" class="form-input" required>
              </div>
              <div class="form-group">
                <label class="form-label">CEP *</label>
                <input type="text" id="registroCep" class="form-input" required>
              </div>
            </div>
          </div>
          <div id="cobrancaSection" class="mt-6">
            <h3 class="text-sm font-medium text-gray-700 mb-2">Endereço de Cobrança</h3>
            <span id="tagCobrancaIgual" class="badge hidden mb-2">Endereço Cobrança Igual</span>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
              <div class="form-group md:col-span-2">
                <label class="form-label">Rua *</label>
                <input type="text" id="cobrancaRua" class="form-input" required>
              </div>
              <div class="form-group">
                <label class="form-label">Número *</label>
                <input type="text" id="cobrancaNumero" class="form-input" required>
              </div>
              <div class="form-group">
                <label class="form-label">Complemento</label>
                <input type="text" id="cobrancaComplemento" class="form-input">
              </div>
              <div class="form-group">
                <label class="form-label">Bairro *</label>
                <input type="text" id="cobrancaBairro" class="form-input" required>
              </div>
              <div class="form-group">
                <label class="form-label">Cidade *</label>
                <input type="text" id="cobrancaCidade" class="form-input" required>
              </div>
              <div class="form-group">
                <label class="form-label">Estado *</label>
                <input type="text" id="cobrancaEstado" class="form-input" required>
              </div>
              <div class="form-group">
                <label class="form-label">CEP *</label>
                <input type="text" id="cobrancaCep" class="form-input" required>
              </div>
            </div>
          </div>
          <div id="entregaSection" class="mt-6">
            <h3 class="text-sm font-medium text-gray-700 mb-2">Endereço de Entrega</h3>
            <span id="tagEntregaIgual" class="badge hidden mb-2">Endereço Entrega Igual</span>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
              <div class="form-group md:col-span-2">
                <label class="form-label">Rua *</label>
                <input type="text" id="entregaRua" class="form-input" required>
              </div>
              <div class="form-group">
                <label class="form-label">Número *</label>
                <input type="text" id="entregaNumero" class="form-input" required>
              </div>
              <div class="form-group">
                <label class="form-label">Complemento</label>
                <input type="text" id="entregaComplemento" class="form-input">
              </div>
              <div class="form-group">
                <label class="form-label">Bairro *</label>
                <input type="text" id="entregaBairro" class="form-input" required>
              </div>
              <div class="form-group">
                <label class="form-label">Cidade *</label>
                <input type="text" id="entregaCidade" class="form-input" required>
              </div>
              <div class="form-group">
                <label class="form-label">Estado *</label>
                <input type="text" id="entregaEstado" class="form-input" required>
              </div>
              <div class="form-group">
                <label class="form-label">CEP *</label>
                <input type="text" id="entregaCep" class="form-input" required>
              </div>
            </div>
          </div>
        </div>
        <div class="tab-content" id="contracts">
          <div class="mt-6">
            <div class="table-container">
              <table>
                <thead>
                  <tr>
                    <th>Nº Contrato</th>
                    <th>Tipo</th>
                    <th>Início</th>
                    <th>Fim</th>
                    <th>Valor</th>
                    <th>Status</th>
                  </tr>
                </thead>
                <tbody id="contractsBody"></tbody>
              </table>
            </div>
          </div>
        </div>
        <div class="tab-content" id="notes">
          <div class="space-y-4 mt-6">
            <div class="form-group">
              <label class="form-label">Observações</label>
              <textarea id="notesText" class="form-input" rows="4"></textarea>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Toast de confirmação de edição/salvar -->
  <div class="toast" id="saveToast">
    <div class="toast-icon bg-green-100 text-green-500 rounded-full p-2">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
        <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/>
      </svg>
    </div>
    <div class="toast-content">
      <div class="toast-title">Cliente Atualizado</div>
      <div class="toast-message">As alterações foram salvas com sucesso.</div>
    </div>
    <div class="toast-close">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 20 20" fill="currentColor">
        <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"/>
      </svg>
    </div>
  </div>

  <!-- Scripts combinados -->
  <script>
    // Toast & filtros (Código 1)
    const exportCsvToast = document.getElementById('exportCsvToast');
    const newClientToast = document.getElementById('newClientToast');
    const editClientToast = document.getElementById('editClientToast');
    const toastCloseButtons = document.querySelectorAll('.toast-close');
    const exportCsvBtn = document.getElementById('exportCsvBtn');
    const newClientBtn = document.getElementById('newClientBtn');
    const importCsvBtn = document.getElementById('importCsvBtn');
    const generateReportBtn = document.getElementById('generateReportBtn');
    const bulkEmailBtn = document.getElementById('bulkEmailBtn');
    function showToast(toast) {
      toast.classList.add('show');
      setTimeout(() => toast.classList.remove('show'), 5000);
    }
    if (exportCsvBtn) exportCsvBtn.addEventListener('click', () => showToast(exportCsvToast));
    if (newClientBtn) newClientBtn.addEventListener('click', () => showToast(newClientToast));
    toastCloseButtons.forEach(btn => btn.addEventListener('click', () => btn.closest('.toast').classList.remove('show')));
    document.querySelectorAll('input[type="checkbox"]').forEach(cb => cb.addEventListener('change', function(){
      console.log(`Filtering by ${this.id}: ${this.checked}`);
    }));
    document.querySelectorAll('.search-input input').forEach(inp => inp.addEventListener('input', function(){
      console.log(`Searching for: ${this.value}`);
    }));
    document.querySelectorAll('.pagination-item').forEach(item => {
      item.addEventListener('click', function() {
        if (this.classList.contains('active')) return;
        document.querySelector('.pagination-item.active')?.classList.remove('active');
        this.classList.add('active');
        console.log(`Navigating to page: ${this.textContent.trim()}`);
      });
    });
    if (importCsvBtn) importCsvBtn.addEventListener('click', () => console.log('Import CSV button clicked'));
    if (generateReportBtn) generateReportBtn.addEventListener('click', () => console.log('Generate Report button clicked'));
    if (bulkEmailBtn) bulkEmailBtn.addEventListener('click', () => console.log('Bulk Email button clicked'));

    // Modal & Tabs & Validations (Código 2)
    const clientModalOverlay = document.getElementById('clientModalOverlay');
    const backBtn = document.getElementById('backBtn');
    const closeBtn = document.getElementById('closeBtn');
    const saveBtn  = document.getElementById('saveBtn');
    const saveSpinner = document.getElementById('saveSpinner');
    const saveToast = document.getElementById('saveToast');
    const mobileTabSelect = document.getElementById('mobileTabSelect');
    const tabItems    = document.querySelectorAll('.tab-item');
    const tabContents = document.querySelectorAll('.tab-content');
    const requiredInputs = document.querySelectorAll('input[required], select[required]');
    
    function openModal() {
      clientModalOverlay.style.display = 'flex';
      clientModalOverlay.querySelector('.client-modal')?.classList.add('show');
      document.body.classList.add('overflow-hidden');
    }
    function closeModal() {
      clientModalOverlay.querySelector('.client-modal')?.classList.remove('show');
      clientModalOverlay.style.display = 'none';
      document.body.classList.remove('overflow-hidden');
    }
    backBtn.addEventListener('click', closeModal);
    closeBtn.addEventListener('click', closeModal);

    function setActiveTab(tabId) {
      tabItems.forEach(i => i.classList.remove('active'));
      tabContents.forEach(c => c.classList.remove('active'));
      document.querySelector(`.tab-item[data-tab="${tabId}"]`).classList.add('active');
      document.getElementById(tabId).classList.add('active');
      mobileTabSelect.value = tabId;
    }
    tabItems.forEach(item => item.addEventListener('click', () => setActiveTab(item.dataset.tab)));
    mobileTabSelect.addEventListener('change', () => setActiveTab(mobileTabSelect.value));

    function validateInput(input) {
      const errorClass = 'error', errorMsgClass = 'form-error';
      const msg = 'Este campo é obrigatório';
      input.parentNode.querySelector(`.${errorMsgClass}`)?.remove();
      if (!input.value.trim()) {
        input.classList.add(errorClass);
        const div = document.createElement('div');
        div.className = errorMsgClass; div.textContent = msg;
        input.parentNode.appendChild(div);
        return false;
      }
      input.classList.remove(errorClass);
      return true;
    }
    requiredInputs.forEach(inp => inp.addEventListener('blur', () => validateInput(inp)));

    saveBtn.addEventListener('click', () => {
      let valid = true;
      requiredInputs.forEach(inp => { if (!validateInput(inp)) valid = false; });
      if (!valid) return;
      saveSpinner.style.display = 'block';
      saveBtn.disabled = true;
      setTimeout(() => {
        saveSpinner.style.display = 'none';
        saveBtn.disabled = false;
        showToast(saveToast);
        closeModal();
      }, 1000);
    });

    // hypothetical triggers to open modal (you can change selectors as needed)
    document.querySelectorAll('.edit-client, .client-link').forEach(el => {
      el.addEventListener('click', e => { e.preventDefault(); openModal(); showToast(editClientToast); });
    });

    // Remove attachments
    document.querySelectorAll('.attachment-remove').forEach(btn => {
      btn.addEventListener('click', () => btn.closest('.attachment').remove());
    });
  </script>

</body>
</html>
