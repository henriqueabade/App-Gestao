<style>
    :root {
        --color-primary: #b6a03e;
        --color-primary-hover: #d4c169;
        --color-positive: #a2ffa6;
        --color-negative: #ff5858;
        --color-negative-hover: #dc2626;
        --color-blue: #8aa7f3;
    }
    #modal-products-process {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-color: rgba(0, 0, 0, 0.3);
        display: flex;
        align-items: center;
        justify-content: center;
        z-index: 60;
    }
    #modal-products-process .modal {
        background-color: white;
        border-radius: 0.5rem;
        box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
        width: 66.666667%;
        max-width: 48rem;
        max-height: 90vh;
        margin: 0 auto;
        display: flex;
        flex-direction: column;
        overflow: hidden;
    }
    #modal-products-process .modal-header {
        padding: 1.5rem;
        border-bottom: 1px solid #E5E7EB;
        display: flex;
        align-items: center;
        justify-content: space-between;
        background-color: white;
        position: sticky;
        top: 0;
        z-index: 10;
    }
    #modal-products-process .modal-body {
        padding: 1.5rem;
        overflow-y: auto;
        flex: 1;
    }
    #modal-products-process .btn {
        transition: all 0.2s;
        border-radius: 0.375rem;
        font-weight: 500;
        display: inline-flex;
        align-items: center;
        justify-content: center;
    }
    #modal-products-process .btn-primary {
        background-color: var(--color-primary);
        color: white;
        padding: 0.5rem 1rem;
    }
    #modal-products-process .btn-primary:hover { background-color: var(--color-primary-hover); }
    #modal-products-process .btn-primary:disabled { background-color: var(--color-primary); opacity: 0.5; cursor: not-allowed; }
    #modal-products-process .btn-secondary {
        background-color: var(--color-negative);
        color: white;
        padding: 0.5rem 1rem;
    }
    #modal-products-process .btn-secondary:hover { background-color: var(--color-negative-hover); }
    #modal-products-process .btn-destructive {
        background-color: var(--color-negative);
        color: white;
        padding: 0.5rem 1rem;
    }
    #modal-products-process .btn-destructive:hover { background-color: var(--color-negative-hover); }
    #modal-products-process .form-group { margin-bottom: 1rem; }
    #modal-products-process .form-label {
        display: block;
        font-size: 0.875rem;
        font-weight: 500;
        color: #4B5563;
        margin-bottom: 0.25rem;
    }
    #modal-products-process .form-input {
        width: 100%;
        border: 1px solid #D1D5DB;
        border-radius: 0.375rem;
        padding: 0.5rem 0.75rem;
        font-size: 0.875rem;
        color: #374151;
        transition: all 0.2s;
    }
    #modal-products-process .form-input:focus {
        outline: none;
        border-color: var(--color-primary);
        box-shadow: 0 0 0 3px color-mix(in srgb, var(--color-primary) 30%, transparent);
    }
    #modal-products-process .form-select {
        width: 100%;
        border: 1px solid #D1D5DB;
        border-radius: 0.375rem;
        padding: 0.5rem 0.75rem;
        font-size: 0.875rem;
        color: #374151;
        transition: all 0.2s;
        background-color: white;
        appearance: none;
        background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e");
        background-position: right 0.5rem center;
        background-repeat: no-repeat;
        background-size: 1.5em 1.5em;
        padding-right: 2.5rem;
    }
    #modal-products-process .form-select:focus {
        outline: none;
        border-color: var(--color-primary);
        box-shadow: 0 0 0 3px color-mix(in srgb, var(--color-primary) 30%, transparent);
    }
    table { width: 100%; border-collapse: separate; border-spacing: 0; }
    th {
        position: sticky;
        top: 0;
        background-color: #F9FAFB;
        font-weight: 500;
        color: #4B5563;
        text-align: left;
        padding: 0.75rem 1rem;
        border-bottom: 1px solid #E5E7EB;
        text-transform: uppercase;
        font-size: 0.75rem;
        z-index: 1;
    }
    td {
        padding: 0.75rem 1rem;
        border-bottom: 1px solid #E5E7EB;
        color: #374151;
        font-size: 0.875rem;
    }
    tr:hover td { background-color: #F9FAFB; }
    #modal-products-process .highlighted { background-color: color-mix(in srgb, var(--color-negative) 10%, transparent); }
    #modal-products-process .highlighted td { background-color: color-mix(in srgb, var(--color-negative) 10%, transparent); }
    #modal-products-process .toast {
        position: fixed;
        bottom: 1.5rem;
        right: 1.5rem;
        padding: 1rem;
        background-color: white;
        border-radius: 0.5rem;
        box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        display: flex;
        align-items: center;
        transform: translateY(150%);
        transition: transform 0.3s ease-out;
        z-index: 100;
    }
    #modal-products-process .toast.show { transform: translateY(0); }
    #modal-products-process .toast-icon {
        margin-right: 0.75rem;
        width: 1.5rem;
        height: 1.5rem;
        flex-shrink: 0;
    }
    #modal-products-process .toast-content { flex: 1; }
    #modal-products-process .toast-title { font-weight: 600; font-size: 0.875rem; color: #1F2937; }
    #modal-products-process .toast-message { font-size: 0.75rem; color: #6B7280; }
    #modal-products-process .toast-close { margin-left: 0.75rem; color: #9CA3AF; cursor: pointer; }
    #modal-products-process .toast-close:hover { color: #6B7280; }
    #modal-products-process .popup {
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        background-color: white;
        border-radius: 0.5rem;
        box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
        padding: 1.5rem;
        z-index: 100;
        max-width: 24rem;
        width: 90%;
    }
    #modal-products-process .popup-backdrop {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-color: rgba(0, 0, 0, 0.5);
        z-index: 90;
    }
    @media (max-width: 1024px) {
        #modal-products-process .modal {
            width: 100%;
            max-width: none;
            height: 100vh;
            max-height: none;
            border-radius: 0;
        }
        #modal-products-process .grid-cols-12 { grid-template-columns: repeat(1, minmax(0, 1fr)); }
    }
</style>
<div class="overlay-process" id="modal-products-process" data-modal-id="products-process">
  <div class="modal">
    <div class="modal-header">
      <div class="flex items-center space-x-4">
        <button class="btn btn-secondary" id="backBtn">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-1" viewBox="0 0 20 20" fill="currentColor">
            <path fill-rule="evenodd" d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z" clip-rule="evenodd" />
          </svg>
          Voltar
        </button>
        <h2 class="text-xl font-semibold text-gray-800">MARCENARIA</h2>
      </div>
      <div class="flex items-center space-x-2">
        <button class="btn btn-primary" id="registerBtn">Registrar</button>
        <button class="btn btn-secondary" id="closeBtn">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
            <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd" />
          </svg>
        </button>
      </div>
    </div>
    <div class="modal-body">
      <div class="grid grid-cols-12 gap-4 mb-6">
        <div class="col-span-12 md:col-span-5">
          <div class="form-group">
            <label class="form-label">Nome do Item*</label>
            <select class="form-select" id="itemSelect">
              <option value="">Selecione um item</option>
              <option value="1">Madeira Maciça Jatobá</option>
              <option value="2">Parafusos 5mm</option>
              <option value="3">Dobradiças Especiais</option>
              <option value="4">Laminado Melamínico</option>
              <option value="5">Puxadores Metálicos</option>
              <option value="6">Cola para Madeira</option>
              <option value="7">MDF 15mm</option>
              <option value="8">Pregos sem Cabeça</option>
            </select>
          </div>
        </div>
        <div class="col-span-12 md:col-span-2">
          <div class="form-group">
            <label class="form-label">Quantidade*</label>
            <input type="number" id="itemQuantity" class="form-input" min="0.001" step="0.001" value="1">
          </div>
        </div>
        <div class="col-span-12 md:col-span-2">
          <div class="form-group">
            <label class="form-label">&nbsp;</label>
            <button class="btn btn-primary w-full" id="insertBtn">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-1" viewBox="0 0 20 20" fill="currentColor">
                <path fill-rule="evenodd" d="M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z" clip-rule="evenodd" />
              </svg>
              Inserir
            </button>
          </div>
        </div>
        <div class="col-span-12 md:col-span-3">
          <div class="form-group">
            <label class="form-label">&nbsp;</label>
            <button class="btn btn-secondary w-full" id="clearAllBtn">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-1" viewBox="0 0 20 20" fill="currentColor">
                <path fill-rule="evenodd" d="M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z" clip-rule="evenodd" />
              </svg>
              Limpar Tudo
            </button>
          </div>
        </div>
      </div>
      <div class="bg-white border border-gray-200 rounded-lg overflow-hidden">
        <div class="h-80 overflow-y-auto">
          <table class="w-full" id="itemsTable">
            <thead>
              <tr>
                <th>Nome do Item</th>
                <th width="120">Quantidade</th>
                <th width="150">Valor Total (R$)</th>
                <th width="100">Ação</th>
              </tr>
            </thead>
            <tbody>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="popup-backdrop hidden" id="clearPopupBackdrop"></div>
<div class="popup hidden" id="clearPopup">
  <h3 class="text-lg font-medium text-gray-900 mb-4">Limpar Tudo</h3>
  <p class="text-sm text-gray-600 mb-6">Tem certeza que deseja limpar todos os itens? Esta ação não pode ser desfeita.</p>
  <div class="flex justify-end space-x-3">
    <button class="btn btn-secondary" id="cancelClearBtn">Não</button>
    <button class="btn btn-destructive" id="confirmClearBtn">Sim</button>
  </div>
</div>
<div class="popup-backdrop hidden" id="deletePopupBackdrop"></div>
<div class="popup hidden" id="deletePopup">
  <h3 class="text-lg font-medium text-gray-900 mb-4">Remover Item</h3>
  <p class="text-sm text-gray-600 mb-6">Tem certeza que deseja remover este item? Esta ação não pode ser desfeita.</p>
  <div class="flex justify-end space-x-3">
    <button class="btn btn-secondary" id="cancelDeleteBtn">Não</button>
    <button class="btn btn-destructive" id="confirmDeleteBtn">Sim</button>
  </div>
</div>
<div class="popup-backdrop hidden" id="registerPopupBackdrop"></div>
<div class="popup hidden" id="registerPopup">
  <h3 class="text-lg font-medium text-gray-900 mb-4">Confirmar itens do processo</h3>
  <p class="text-sm text-gray-600 mb-6">Tem certeza que deseja registrar estes itens?</p>
  <div class="flex justify-end space-x-3">
    <button class="btn btn-secondary" id="cancelRegisterBtn">Não</button>
    <button class="btn btn-primary" id="confirmRegisterBtn">Sim</button>
  </div>
</div>
<div class="popup-backdrop hidden" id="duplicateAlertBackdrop"></div>
<div class="popup hidden" id="duplicateAlertPopup">
  <h3 class="text-lg font-medium text-gray-900 mb-4">Item Duplicado</h3>
  <p class="text-sm text-gray-600 mb-6">Este item já foi adicionado à lista.</p>
  <div class="flex justify-end">
    <button class="btn btn-primary" id="confirmDuplicateBtn">OK</button>
  </div>
</div>
<div class="toast" id="insertToast">
  <div class="toast-icon bg-green-100 text-green-500 rounded-full p-2">
    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
      <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
    </svg>
  </div>
  <div class="toast-content">
    <div class="toast-title">Item Adicionado</div>
    <div class="toast-message">O item foi adicionado com sucesso.</div>
  </div>
  <div class="toast-close">
    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 20 20" fill="currentColor">
      <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd" />
    </svg>
  </div>
</div>
<div class="toast" id="updateToast">
  <div class="toast-icon bg-blue-100 text-blue-500 rounded-full p-2">
    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
      <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
    </svg>
  </div>
  <div class="toast-content">
    <div class="toast-title">Quantidade Atualizada</div>
    <div class="toast-message">A quantidade foi atualizada com sucesso.</div>
  </div>
  <div class="toast-close">
    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 20 20" fill="currentColor">
      <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd" />
    </svg>
  </div>
</div>
<div class="toast" id="deleteToast">
  <div class="toast-icon bg-red-100 text-red-500 rounded-full p-2">
    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
      <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
    </svg>
  </div>
  <div class="toast-content">
    <div class="toast-title">Item Removido</div>
    <div class="toast-message">O item foi removido com sucesso.</div>
  </div>
  <div class="toast-close">
    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 20 20" fill="currentColor">
      <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd" />
    </svg>
  </div>
</div>
<div class="toast" id="clearToast">
  <div class="toast-icon bg-blue-100 text-blue-500 rounded-full p-2">
    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
      <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
    </svg>
  </div>
  <div class="toast-content">
    <div class="toast-title">Itens Limpos</div>
    <div class="toast-message">Todos os itens foram removidos com sucesso.</div>
  </div>
  <div class="toast-close">
    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 20 20" fill="currentColor">
      <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd" />
    </svg>
  </div>
</div>
<div class="toast" id="registerToast">
  <div class="toast-icon bg-green-100 text-green-500 rounded-full p-2">
    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
      <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
    </svg>
  </div>
  <div class="toast-content">
    <div class="toast-title">Itens Registrados</div>
    <div class="toast-message">Os itens foram registrados com sucesso.</div>
  </div>
  <div class="toast-close">
    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 20 20" fill="currentColor">
      <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd" />
    </svg>
  </div>
</div>
