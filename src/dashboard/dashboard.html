<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Santíssimo Decor Painel</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="dashboard.css">
    <link rel="stylesheet" href="../styles/warning.css">
    <link rel="stylesheet" href="../icons.css">
</head>
<body class="text-white font-[Inter]">
    <!-- Topbar -->
    <header class="fixed top-0 left-0 right-0 z-50 h-14 glass-surface border-b border-white/10">
        <div class="flex items-center justify-between h-full px-4">
            <div class="flex items-center space-x-3">
                <button id="menu-toggle" class="p-2 rounded-lg transition-colors duration-150 hover:bg-white/10 lg:hidden">
                    <i class="fas fa-bars w-5 h-5" style="color: var(--color-primary)"></i>
                </button>
                <svg class="w-8 h-8" viewBox="0 0 32 32" fill="none">
                    <path d="M16 2L20 10H28L22 16L24 24L16 20L8 24L10 16L4 10H12L16 2Z" fill="var(--color-primary)"/>
                    <circle cx="16" cy="16" r="4" fill="var(--color-primary-light)"/>
                </svg>
                <span class="text-lg font-semibold" style="color: var(--color-primary)">Santíssimo Decor</span>
                <span id="section-title" class="text-lg ml-4"></span>
            </div>
            <div class="flex items-center space-x-4">
                <div class="text-right hidden sm:block">
                    <div class="text-sm font-medium">Henrique Viana Abade</div>
                    <div class="text-xs" style="color: var(--color-violet)">Administrador</div>
                </div>
                <div class="flex items-center space-x-2">
                    <button class="p-2 rounded-lg transition-colors duration-150 hover:bg-white/10" style="color: var(--color-violet)">
                        <i class="fas fa-cog w-5 h-5"></i>
                    </button>
                    <button class="p-2 rounded-lg transition-colors duration-150 hover:bg-white/10" style="color: var(--color-green)">
                        <i class="fas fa-sync-alt w-4 h-4 rotating"></i>
                    </button>
                    <button class="p-2 rounded-lg transition-colors duration-150 hover:bg-white/10 relative" style="color: var(--color-violet)">
                        <i class="fas fa-bell w-5 h-5"></i>
                        <span class="absolute -top-1 -right-1 w-3 h-3 rounded-full" style="background: var(--color-red)"></span>
                    </button>
                </div>
            </div>
        </div>
    </header>

    <!-- Sidebar -->
    <aside id="sidebar" class="sidebar fixed left-0 top-14 bottom-0 sidebar-collapsed glass-deep border-r border-white/10 z-40 transition-all duration-300">
        <nav class="p-2 space-y-1">
            <div class="sidebar-item active flex items-center p-3 rounded-lg" data-section="dashboard">
                <i class="fas fa-chart-line w-5 h-5 flex-shrink-0"></i>
                <span class="sidebar-text ml-3 whitespace-nowrap">Dashboard</span>
            </div>
            <div class="sidebar-item flex items-center p-3 rounded-lg" data-section="raw-material" style="color: var(--color-violet)">
                <i class="fas fa-boxes w-5 h-5 flex-shrink-0"></i>
                <span class="sidebar-text ml-3 whitespace-nowrap">Matéria-Prima</span>
            </div>
            <div class="sidebar-item flex items-center p-3 rounded-lg" data-section="products" style="color: var(--color-violet)">
                <i class="fas fa-cube w-5 h-5 flex-shrink-0"></i>
                <span class="sidebar-text ml-3 whitespace-nowrap">Produtos</span>
            </div>
            <div class="sidebar-item flex items-center p-3 rounded-lg" data-section="budgets" style="color: var(--color-violet)">
                <i class="fas fa-file-invoice-dollar w-5 h-5 flex-shrink-0"></i>
                <span class="sidebar-text ml-3 whitespace-nowrap">Orçamentos</span>
            </div>
            <div class="sidebar-item flex items-center p-3 rounded-lg" data-section="orders" style="color: var(--color-violet)">
                <i class="fas fa-shopping-cart w-5 h-5 flex-shrink-0"></i>
                <span class="sidebar-text ml-3 whitespace-nowrap">Pedidos</span>
            </div>
            <div id="crm-header" class="sidebar-item flex items-center justify-between p-3 rounded-lg cursor-pointer" style="color: var(--color-violet)">
                <div class="flex items-center">
                    <i class="fas fa-users w-5 h-5 flex-shrink-0"></i>
                    <span class="sidebar-text ml-3 whitespace-nowrap">CRM</span>
                </div>
                <i class="fas fa-chevron-right w-3 h-3 chevron sidebar-text"></i>
            </div>
            <div id="crm-submenu" class="submenu">
                <div class="submenu-item flex items-center py-2 px-3 rounded-lg" data-section="crm" data-crm-section="crm_clients" style="color: var(--color-violet)">
                    <i class="fas fa-user-friends w-4 h-4 flex-shrink-0"></i>
                    <span class="sidebar-text ml-3 whitespace-nowrap">Clientes</span>
                </div>
                <div class="submenu-item flex items-center py-2 px-3 rounded-lg" data-section="crm" data-crm-section="crm_prospects" style="color: var(--color-violet)">
                    <i class="fas fa-user-plus w-4 h-4 flex-shrink-0"></i>
                    <span class="sidebar-text ml-3 whitespace-nowrap">Prospectos</span>
                </div>
                <div class="submenu-item flex items-center py-2 px-3 rounded-lg" data-section="crm" data-crm-section="crm_contacts" style="color: var(--color-violet)">
                    <i class="fas fa-address-book w-4 h-4 flex-shrink-0"></i>
                    <span class="sidebar-text ml-3 whitespace-nowrap">Contatos</span>
                </div>
                <div class="submenu-item flex items-center py-2 px-3 rounded-lg" data-section="crm" data-crm-section="crm_calendar" style="color: var(--color-violet)">
                    <i class="fas fa-calendar-alt w-4 h-4 flex-shrink-0"></i>
                    <span class="sidebar-text ml-3 whitespace-nowrap">Calendário</span>
                </div>
                <div class="submenu-item flex items-center py-2 px-3 rounded-lg" data-section="crm" data-crm-section="crm_tasks" style="color: var(--color-violet)">
                    <i class="fas fa-tasks w-4 h-4 flex-shrink-0"></i>
                    <span class="sidebar-text ml-3 whitespace-nowrap">Tarefas</span>
                </div>
            </div>
            <div class="sidebar-item flex items-center p-3 rounded-lg" data-section="ai-reading" style="color: var(--color-violet)">
                <i class="fas fa-robot w-5 h-5 flex-shrink-0"></i>
                <span class="sidebar-text ml-3 whitespace-nowrap">IA</span>
            </div>
            <div class="sidebar-item flex items-center p-3 rounded-lg" data-section="permissions" style="color: var(--color-violet)">
                <i class="fas fa-user-shield w-5 h-5 flex-shrink-0"></i>
                <span class="sidebar-text ml-3 whitespace-nowrap">Usuários</span>
            </div>
            <div class="sidebar-item flex items-center p-3 rounded-lg" data-section="reports" style="color: var(--color-violet)">
                <i class="fas fa-chart-bar w-5 h-5 flex-shrink-0"></i>
                <span class="sidebar-text ml-3 whitespace-nowrap">Relatórios</span>
            </div>
            <div class="sidebar-item flex items-center p-3 rounded-lg" data-section="settings" style="color: var(--color-violet)">
                <i class="fas fa-cogs w-5 h-5 flex-shrink-0"></i>
                <span class="sidebar-text ml-3 whitespace-nowrap">Configurações</span>
            </div>
        </nav>
    </aside>

    <!-- Main Content -->
    <main id="mainContent" class="transition-all duration-300 ml-16 mt-14 p-6">
        <div class="max-w-7xl mx-auto">
            <div id="system-messages" class="mb-4 hidden p-4 rounded-md"></div>
            <section id="dashboard-section" class="space-y-6">
                <div class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-6 mb-8">
                    <div class="glass-surface rounded-xl p-6 animate-fade-in-up shadow-lg">
                        <div class="flex items-center">
                            <div class="p-3 rounded-lg mr-4" style="background: rgba(182, 160, 62, 0.2)">
                                <i class="fas fa-dollar-sign w-6 h-6" style="color: var(--color-primary)"></i>
                            </div>
                            <div>
                                <div class="text-2xl font-bold text-white">R$ 24.780</div>
                                <div class="text-sm" style="color: var(--neutral-100)">Vendas Totais</div>
                            </div>
                        </div>
                    </div>
                    <div class="glass-surface rounded-xl p-6 animate-fade-in-up shadow-lg">
                        <div class="flex items-center">
                            <div class="p-3 rounded-lg mr-4" style="background: rgba(163, 148, 167, 0.2)">
                                <i class="fas fa-users w-6 h-6" style="color: var(--color-violet)"></i>
                            </div>
                            <div>
                                <div class="text-2xl font-bold text-white">142</div>
                                <div class="text-sm" style="color: var(--neutral-100)">Clientes</div>
                            </div>
                        </div>
                    </div>
                    <div class="glass-surface rounded-xl p-6 animate-fade-in-up shadow-lg">
                        <div class="flex items-center">
                            <div class="p-3 rounded-lg mr-4" style="background: rgba(106, 21, 44, 0.2)">
                                <i class="fas fa-cube w-6 h-6" style="color: var(--color-bordeaux)"></i>
                            </div>
                            <div>
                                <div class="text-2xl font-bold text-white">87</div>
                                <div class="text-sm" style="color: var(--neutral-100)">Produtos</div>
                            </div>
                        </div>
                    </div>
                    <div class="glass-surface rounded-xl p-6 animate-fade-in-up shadow-lg">
                        <div class="flex items-center">
                            <div class="p-3 rounded-lg mr-4" style="background: rgba(138, 167, 243, 0.2)">
                                <i class="fas fa-chart-line w-6 h-6" style="color: var(--color-blue)"></i>
                            </div>
                            <div>
                                <div class="text-2xl font-bold text-white">R$ 174,50</div>
                                <div class="text-sm" style="color: var(--neutral-100)">Ticket Médio</div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8">
                    <div class="glass-surface rounded-xl p-6 shadow-lg">
                        <h3 class="text-lg font-semibold mb-4" style="color: var(--color-primary)">Vendas Mensais</h3>
                        <div class="chart-placeholder h-64 rounded-lg flex items-center justify-center">
                            <div class="text-center">
                                <i class="fas fa-chart-line text-4xl mb-2" style="color: var(--color-primary)"></i>
                                <p style="color: var(--color-violet)">Gráfico de Linha - Vendas por Mês</p>
                            </div>
                        </div>
                    </div>
                    <div class="glass-surface rounded-xl p-6 shadow-lg">
                        <h3 class="text-lg font-semibold mb-4" style="color: var(--color-primary)">Categorias Mais Vendidas</h3>
                        <div class="chart-placeholder h-64 rounded-lg flex items-center justify-center">
                            <div class="text-center">
                                <i class="fas fa-chart-pie text-4xl mb-2" style="color: var(--color-primary)"></i>
                                <p style="color: var(--color-violet)">Gráfico de Pizza - Vendas por Categoria</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
            <section id="raw-material-section" class="space-y-6 hidden"></section>
            <section id="products-section" class="space-y-6 hidden"></section>
            <section id="budgets-section" class="space-y-6 hidden"></section>
            <section id="orders-section" class="space-y-6 hidden"></section>
            <section id="crm-section" class="space-y-6 hidden"></section>
            <section id="ai-reading-section" class="space-y-6 hidden"></section>
            <section id="permissions-section" class="space-y-6 hidden"></section>
            <section id="reports-section" class="space-y-6 hidden"></section>
            <section id="settings-section" class="space-y-6 hidden"></section>
        </div>
    </main>

    <div id="logoutOverlay" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-40">
      <div class="logout-loader"></div>
    </div>
    <div id="exitOverlay" class="hidden fixed inset-0 bg-[#3d021f] opacity-0 flex items-center justify-center z-50"></div>

    <script src="../utils/modal.js"></script>
    <script src="../utils/formPersistence.js"></script>
    <script src="../utils/userActions.js"></script>
    <script src="dashboardRenderer.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js"></script>
    <script>feather.replace({ class: 'w-5 h-5' });</script>
</body>
</html>
